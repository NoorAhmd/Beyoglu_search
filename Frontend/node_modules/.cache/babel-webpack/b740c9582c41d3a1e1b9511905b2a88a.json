{"ast":null,"code":"/**\n * @module ol/render/Box\n */\nimport Disposable from '../Disposable.js';\nimport Polygon from '../geom/Polygon.js';\n\nvar RenderBox = function (Disposable) {\n  function RenderBox(className) {\n    Disposable.call(this);\n    /**\n     * @type {module:ol/geom/Polygon}\n     * @private\n     */\n\n    this.geometry_ = null;\n    /**\n     * @type {HTMLDivElement}\n     * @private\n     */\n\n    this.element_ =\n    /** @type {HTMLDivElement} */\n    document.createElement('div');\n    this.element_.style.position = 'absolute';\n    this.element_.className = 'ol-box ' + className;\n    /**\n     * @private\n     * @type {module:ol/PluggableMap}\n     */\n\n    this.map_ = null;\n    /**\n     * @private\n     * @type {module:ol/pixel~Pixel}\n     */\n\n    this.startPixel_ = null;\n    /**\n     * @private\n     * @type {module:ol/pixel~Pixel}\n     */\n\n    this.endPixel_ = null;\n  }\n\n  if (Disposable) RenderBox.__proto__ = Disposable;\n  RenderBox.prototype = Object.create(Disposable && Disposable.prototype);\n  RenderBox.prototype.constructor = RenderBox;\n  /**\n   * @inheritDoc\n   */\n\n  RenderBox.prototype.disposeInternal = function disposeInternal() {\n    this.setMap(null);\n  };\n  /**\n   * @private\n   */\n\n\n  RenderBox.prototype.render_ = function render_() {\n    var startPixel = this.startPixel_;\n    var endPixel = this.endPixel_;\n    var px = 'px';\n    var style = this.element_.style;\n    style.left = Math.min(startPixel[0], endPixel[0]) + px;\n    style.top = Math.min(startPixel[1], endPixel[1]) + px;\n    style.width = Math.abs(endPixel[0] - startPixel[0]) + px;\n    style.height = Math.abs(endPixel[1] - startPixel[1]) + px;\n  };\n  /**\n   * @param {module:ol/PluggableMap} map Map.\n   */\n\n\n  RenderBox.prototype.setMap = function setMap(map) {\n    if (this.map_) {\n      this.map_.getOverlayContainer().removeChild(this.element_);\n      var style = this.element_.style;\n      style.left = style.top = style.width = style.height = 'inherit';\n    }\n\n    this.map_ = map;\n\n    if (this.map_) {\n      this.map_.getOverlayContainer().appendChild(this.element_);\n    }\n  };\n  /**\n   * @param {module:ol/pixel~Pixel} startPixel Start pixel.\n   * @param {module:ol/pixel~Pixel} endPixel End pixel.\n   */\n\n\n  RenderBox.prototype.setPixels = function setPixels(startPixel, endPixel) {\n    this.startPixel_ = startPixel;\n    this.endPixel_ = endPixel;\n    this.createOrUpdateGeometry();\n    this.render_();\n  };\n  /**\n   * Creates or updates the cached geometry.\n   */\n\n\n  RenderBox.prototype.createOrUpdateGeometry = function createOrUpdateGeometry() {\n    var startPixel = this.startPixel_;\n    var endPixel = this.endPixel_;\n    var pixels = [startPixel, [startPixel[0], endPixel[1]], endPixel, [endPixel[0], startPixel[1]]];\n    var coordinates = pixels.map(this.map_.getCoordinateFromPixel, this.map_); // close the polygon\n\n    coordinates[4] = coordinates[0].slice();\n\n    if (!this.geometry_) {\n      this.geometry_ = new Polygon([coordinates]);\n    } else {\n      this.geometry_.setCoordinates([coordinates]);\n    }\n  };\n  /**\n   * @return {module:ol/geom/Polygon} Geometry.\n   */\n\n\n  RenderBox.prototype.getGeometry = function getGeometry() {\n    return this.geometry_;\n  };\n\n  return RenderBox;\n}(Disposable);\n\nexport default RenderBox; //# sourceMappingURL=Box.js.map","map":{"version":3,"sources":["/Users/n.ah/Projects/ankamap/node_modules/ol/render/Box.js"],"names":["Disposable","Polygon","RenderBox","className","call","geometry_","element_","document","createElement","style","position","map_","startPixel_","endPixel_","__proto__","prototype","Object","create","constructor","disposeInternal","setMap","render_","startPixel","endPixel","px","left","Math","min","top","width","abs","height","map","getOverlayContainer","removeChild","appendChild","setPixels","createOrUpdateGeometry","pixels","coordinates","getCoordinateFromPixel","slice","setCoordinates","getGeometry"],"mappings":"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","sourcesContent":["/**\n * @module ol/render/Box\n */\n\nimport Disposable from '../Disposable.js';\nimport Polygon from '../geom/Polygon.js';\n\nvar RenderBox = (function (Disposable) {\n  function RenderBox(className) {\n    Disposable.call(this);\n\n    /**\n     * @type {module:ol/geom/Polygon}\n     * @private\n     */\n    this.geometry_ = null;\n\n    /**\n     * @type {HTMLDivElement}\n     * @private\n     */\n    this.element_ = /** @type {HTMLDivElement} */ (document.createElement('div'));\n    this.element_.style.position = 'absolute';\n    this.element_.className = 'ol-box ' + className;\n\n    /**\n     * @private\n     * @type {module:ol/PluggableMap}\n     */\n    this.map_ = null;\n\n    /**\n     * @private\n     * @type {module:ol/pixel~Pixel}\n     */\n    this.startPixel_ = null;\n\n    /**\n     * @private\n     * @type {module:ol/pixel~Pixel}\n     */\n    this.endPixel_ = null;\n\n  }\n\n  if ( Disposable ) RenderBox.__proto__ = Disposable;\n  RenderBox.prototype = Object.create( Disposable && Disposable.prototype );\n  RenderBox.prototype.constructor = RenderBox;\n\n  /**\n   * @inheritDoc\n   */\n  RenderBox.prototype.disposeInternal = function disposeInternal () {\n    this.setMap(null);\n  };\n\n  /**\n   * @private\n   */\n  RenderBox.prototype.render_ = function render_ () {\n    var startPixel = this.startPixel_;\n    var endPixel = this.endPixel_;\n    var px = 'px';\n    var style = this.element_.style;\n    style.left = Math.min(startPixel[0], endPixel[0]) + px;\n    style.top = Math.min(startPixel[1], endPixel[1]) + px;\n    style.width = Math.abs(endPixel[0] - startPixel[0]) + px;\n    style.height = Math.abs(endPixel[1] - startPixel[1]) + px;\n  };\n\n  /**\n   * @param {module:ol/PluggableMap} map Map.\n   */\n  RenderBox.prototype.setMap = function setMap (map) {\n    if (this.map_) {\n      this.map_.getOverlayContainer().removeChild(this.element_);\n      var style = this.element_.style;\n      style.left = style.top = style.width = style.height = 'inherit';\n    }\n    this.map_ = map;\n    if (this.map_) {\n      this.map_.getOverlayContainer().appendChild(this.element_);\n    }\n  };\n\n  /**\n   * @param {module:ol/pixel~Pixel} startPixel Start pixel.\n   * @param {module:ol/pixel~Pixel} endPixel End pixel.\n   */\n  RenderBox.prototype.setPixels = function setPixels (startPixel, endPixel) {\n    this.startPixel_ = startPixel;\n    this.endPixel_ = endPixel;\n    this.createOrUpdateGeometry();\n    this.render_();\n  };\n\n  /**\n   * Creates or updates the cached geometry.\n   */\n  RenderBox.prototype.createOrUpdateGeometry = function createOrUpdateGeometry () {\n    var startPixel = this.startPixel_;\n    var endPixel = this.endPixel_;\n    var pixels = [\n      startPixel,\n      [startPixel[0], endPixel[1]],\n      endPixel,\n      [endPixel[0], startPixel[1]]\n    ];\n    var coordinates = pixels.map(this.map_.getCoordinateFromPixel, this.map_);\n    // close the polygon\n    coordinates[4] = coordinates[0].slice();\n    if (!this.geometry_) {\n      this.geometry_ = new Polygon([coordinates]);\n    } else {\n      this.geometry_.setCoordinates([coordinates]);\n    }\n  };\n\n  /**\n   * @return {module:ol/geom/Polygon} Geometry.\n   */\n  RenderBox.prototype.getGeometry = function getGeometry () {\n    return this.geometry_;\n  };\n\n  return RenderBox;\n}(Disposable));\n\n\nexport default RenderBox;\n\n//# sourceMappingURL=Box.js.map"]},"metadata":{},"sourceType":"module"}