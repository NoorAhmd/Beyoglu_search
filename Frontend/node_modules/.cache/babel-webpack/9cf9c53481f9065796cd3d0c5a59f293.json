{"ast":null,"code":"/**\n * @module ol/renderer/vector\n */\nimport { getUid } from '../util.js';\nimport ImageState from '../ImageState.js';\nimport GeometryType from '../geom/GeometryType.js';\nimport ReplayType from '../render/ReplayType.js';\n/**\n * Tolerance for geometry simplification in device pixels.\n * @type {number}\n */\n\nvar SIMPLIFY_TOLERANCE = 0.5;\n/**\n * @const\n * @type {Object.<module:ol/geom/GeometryType,\n *                function(module:ol/render/ReplayGroup, module:ol/geom/Geometry,\n *                         module:ol/style/Style, Object)>}\n */\n\nvar GEOMETRY_RENDERERS = {\n  'Point': renderPointGeometry,\n  'LineString': renderLineStringGeometry,\n  'Polygon': renderPolygonGeometry,\n  'MultiPoint': renderMultiPointGeometry,\n  'MultiLineString': renderMultiLineStringGeometry,\n  'MultiPolygon': renderMultiPolygonGeometry,\n  'GeometryCollection': renderGeometryCollectionGeometry,\n  'Circle': renderCircleGeometry\n};\n/**\n * @param {module:ol/Feature|module:ol/render/Feature} feature1 Feature 1.\n * @param {module:ol/Feature|module:ol/render/Feature} feature2 Feature 2.\n * @return {number} Order.\n */\n\nexport function defaultOrder(feature1, feature2) {\n  return getUid(feature1) - getUid(feature2);\n}\n/**\n * @param {number} resolution Resolution.\n * @param {number} pixelRatio Pixel ratio.\n * @return {number} Squared pixel tolerance.\n */\n\nexport function getSquaredTolerance(resolution, pixelRatio) {\n  var tolerance = getTolerance(resolution, pixelRatio);\n  return tolerance * tolerance;\n}\n/**\n * @param {number} resolution Resolution.\n * @param {number} pixelRatio Pixel ratio.\n * @return {number} Pixel tolerance.\n */\n\nexport function getTolerance(resolution, pixelRatio) {\n  return SIMPLIFY_TOLERANCE * resolution / pixelRatio;\n}\n/**\n * @param {module:ol/render/ReplayGroup} replayGroup Replay group.\n * @param {module:ol/geom/Circle} geometry Geometry.\n * @param {module:ol/style/Style} style Style.\n * @param {module:ol/Feature} feature Feature.\n */\n\nfunction renderCircleGeometry(replayGroup, geometry, style, feature) {\n  var fillStyle = style.getFill();\n  var strokeStyle = style.getStroke();\n\n  if (fillStyle || strokeStyle) {\n    var circleReplay = replayGroup.getReplay(style.getZIndex(), ReplayType.CIRCLE);\n    circleReplay.setFillStrokeStyle(fillStyle, strokeStyle);\n    circleReplay.drawCircle(geometry, feature);\n  }\n\n  var textStyle = style.getText();\n\n  if (textStyle) {\n    var textReplay = replayGroup.getReplay(style.getZIndex(), ReplayType.TEXT);\n    textReplay.setTextStyle(textStyle, replayGroup.addDeclutter(false));\n    textReplay.drawText(geometry, feature);\n  }\n}\n/**\n * @param {module:ol/render/ReplayGroup} replayGroup Replay group.\n * @param {module:ol/Feature|module:ol/render/Feature} feature Feature.\n * @param {module:ol/style/Style} style Style.\n * @param {number} squaredTolerance Squared tolerance.\n * @param {function(this: T, module:ol/events/Event)} listener Listener function.\n * @param {T} thisArg Value to use as `this` when executing `listener`.\n * @return {boolean} `true` if style is loading.\n * @template T\n */\n\n\nexport function renderFeature(replayGroup, feature, style, squaredTolerance, listener, thisArg) {\n  var loading = false;\n  var imageStyle = style.getImage();\n\n  if (imageStyle) {\n    var imageState = imageStyle.getImageState();\n\n    if (imageState == ImageState.LOADED || imageState == ImageState.ERROR) {\n      imageStyle.unlistenImageChange(listener, thisArg);\n    } else {\n      if (imageState == ImageState.IDLE) {\n        imageStyle.load();\n      }\n\n      imageState = imageStyle.getImageState();\n      imageStyle.listenImageChange(listener, thisArg);\n      loading = true;\n    }\n  }\n\n  renderFeatureInternal(replayGroup, feature, style, squaredTolerance);\n  return loading;\n}\n/**\n * @param {module:ol/render/ReplayGroup} replayGroup Replay group.\n * @param {module:ol/Feature|module:ol/render/Feature} feature Feature.\n * @param {module:ol/style/Style} style Style.\n * @param {number} squaredTolerance Squared tolerance.\n */\n\nfunction renderFeatureInternal(replayGroup, feature, style, squaredTolerance) {\n  var geometry = style.getGeometryFunction()(feature);\n\n  if (!geometry) {\n    return;\n  }\n\n  var simplifiedGeometry = geometry.getSimplifiedGeometry(squaredTolerance);\n  var renderer = style.getRenderer();\n\n  if (renderer) {\n    renderGeometry(replayGroup, simplifiedGeometry, style, feature);\n  } else {\n    var geometryRenderer = GEOMETRY_RENDERERS[simplifiedGeometry.getType()];\n    geometryRenderer(replayGroup, simplifiedGeometry, style, feature);\n  }\n}\n/**\n * @param {module:ol/render/ReplayGroup} replayGroup Replay group.\n * @param {module:ol/geom/Geometry} geometry Geometry.\n * @param {module:ol/style/Style} style Style.\n * @param {module:ol/Feature|module:ol/render/Feature} feature Feature.\n */\n\n\nfunction renderGeometry(replayGroup, geometry, style, feature) {\n  if (geometry.getType() == GeometryType.GEOMETRY_COLLECTION) {\n    var geometries =\n    /** @type {module:ol/geom/GeometryCollection} */\n    geometry.getGeometries();\n\n    for (var i = 0, ii = geometries.length; i < ii; ++i) {\n      renderGeometry(replayGroup, geometries[i], style, feature);\n    }\n\n    return;\n  }\n\n  var replay = replayGroup.getReplay(style.getZIndex(), ReplayType.DEFAULT);\n  replay.drawCustom(\n  /** @type {module:ol/geom/SimpleGeometry} */\n  geometry, feature, style.getRenderer());\n}\n/**\n * @param {module:ol/render/ReplayGroup} replayGroup Replay group.\n * @param {module:ol/geom/GeometryCollection} geometry Geometry.\n * @param {module:ol/style/Style} style Style.\n * @param {module:ol/Feature} feature Feature.\n */\n\n\nfunction renderGeometryCollectionGeometry(replayGroup, geometry, style, feature) {\n  var geometries = geometry.getGeometriesArray();\n  var i, ii;\n\n  for (i = 0, ii = geometries.length; i < ii; ++i) {\n    var geometryRenderer = GEOMETRY_RENDERERS[geometries[i].getType()];\n    geometryRenderer(replayGroup, geometries[i], style, feature);\n  }\n}\n/**\n * @param {module:ol/render/ReplayGroup} replayGroup Replay group.\n * @param {module:ol/geom/LineString|module:ol/render/Feature} geometry Geometry.\n * @param {module:ol/style/Style} style Style.\n * @param {module:ol/Feature|module:ol/render/Feature} feature Feature.\n */\n\n\nfunction renderLineStringGeometry(replayGroup, geometry, style, feature) {\n  var strokeStyle = style.getStroke();\n\n  if (strokeStyle) {\n    var lineStringReplay = replayGroup.getReplay(style.getZIndex(), ReplayType.LINE_STRING);\n    lineStringReplay.setFillStrokeStyle(null, strokeStyle);\n    lineStringReplay.drawLineString(geometry, feature);\n  }\n\n  var textStyle = style.getText();\n\n  if (textStyle) {\n    var textReplay = replayGroup.getReplay(style.getZIndex(), ReplayType.TEXT);\n    textReplay.setTextStyle(textStyle, replayGroup.addDeclutter(false));\n    textReplay.drawText(geometry, feature);\n  }\n}\n/**\n * @param {module:ol/render/ReplayGroup} replayGroup Replay group.\n * @param {module:ol/geom/MultiLineString|module:ol/render/Feature} geometry Geometry.\n * @param {module:ol/style/Style} style Style.\n * @param {module:ol/Feature|module:ol/render/Feature} feature Feature.\n */\n\n\nfunction renderMultiLineStringGeometry(replayGroup, geometry, style, feature) {\n  var strokeStyle = style.getStroke();\n\n  if (strokeStyle) {\n    var lineStringReplay = replayGroup.getReplay(style.getZIndex(), ReplayType.LINE_STRING);\n    lineStringReplay.setFillStrokeStyle(null, strokeStyle);\n    lineStringReplay.drawMultiLineString(geometry, feature);\n  }\n\n  var textStyle = style.getText();\n\n  if (textStyle) {\n    var textReplay = replayGroup.getReplay(style.getZIndex(), ReplayType.TEXT);\n    textReplay.setTextStyle(textStyle, replayGroup.addDeclutter(false));\n    textReplay.drawText(geometry, feature);\n  }\n}\n/**\n * @param {module:ol/render/ReplayGroup} replayGroup Replay group.\n * @param {module:ol/geom/MultiPolygon} geometry Geometry.\n * @param {module:ol/style/Style} style Style.\n * @param {module:ol/Feature} feature Feature.\n */\n\n\nfunction renderMultiPolygonGeometry(replayGroup, geometry, style, feature) {\n  var fillStyle = style.getFill();\n  var strokeStyle = style.getStroke();\n\n  if (strokeStyle || fillStyle) {\n    var polygonReplay = replayGroup.getReplay(style.getZIndex(), ReplayType.POLYGON);\n    polygonReplay.setFillStrokeStyle(fillStyle, strokeStyle);\n    polygonReplay.drawMultiPolygon(geometry, feature);\n  }\n\n  var textStyle = style.getText();\n\n  if (textStyle) {\n    var textReplay = replayGroup.getReplay(style.getZIndex(), ReplayType.TEXT);\n    textReplay.setTextStyle(textStyle, replayGroup.addDeclutter(false));\n    textReplay.drawText(geometry, feature);\n  }\n}\n/**\n * @param {module:ol/render/ReplayGroup} replayGroup Replay group.\n * @param {module:ol/geom/Point|module:ol/render/Feature} geometry Geometry.\n * @param {module:ol/style/Style} style Style.\n * @param {module:ol/Feature|module:ol/render/Feature} feature Feature.\n */\n\n\nfunction renderPointGeometry(replayGroup, geometry, style, feature) {\n  var imageStyle = style.getImage();\n\n  if (imageStyle) {\n    if (imageStyle.getImageState() != ImageState.LOADED) {\n      return;\n    }\n\n    var imageReplay = replayGroup.getReplay(style.getZIndex(), ReplayType.IMAGE);\n    imageReplay.setImageStyle(imageStyle, replayGroup.addDeclutter(false));\n    imageReplay.drawPoint(geometry, feature);\n  }\n\n  var textStyle = style.getText();\n\n  if (textStyle) {\n    var textReplay = replayGroup.getReplay(style.getZIndex(), ReplayType.TEXT);\n    textReplay.setTextStyle(textStyle, replayGroup.addDeclutter(!!imageStyle));\n    textReplay.drawText(geometry, feature);\n  }\n}\n/**\n * @param {module:ol/render/ReplayGroup} replayGroup Replay group.\n * @param {module:ol/geom/MultiPoint|module:ol/render/Feature} geometry Geometry.\n * @param {module:ol/style/Style} style Style.\n * @param {module:ol/Feature|module:ol/render/Feature} feature Feature.\n */\n\n\nfunction renderMultiPointGeometry(replayGroup, geometry, style, feature) {\n  var imageStyle = style.getImage();\n\n  if (imageStyle) {\n    if (imageStyle.getImageState() != ImageState.LOADED) {\n      return;\n    }\n\n    var imageReplay = replayGroup.getReplay(style.getZIndex(), ReplayType.IMAGE);\n    imageReplay.setImageStyle(imageStyle, replayGroup.addDeclutter(false));\n    imageReplay.drawMultiPoint(geometry, feature);\n  }\n\n  var textStyle = style.getText();\n\n  if (textStyle) {\n    var textReplay = replayGroup.getReplay(style.getZIndex(), ReplayType.TEXT);\n    textReplay.setTextStyle(textStyle, replayGroup.addDeclutter(!!imageStyle));\n    textReplay.drawText(geometry, feature);\n  }\n}\n/**\n * @param {module:ol/render/ReplayGroup} replayGroup Replay group.\n * @param {module:ol/geom/Polygon|module:ol/render/Feature} geometry Geometry.\n * @param {module:ol/style/Style} style Style.\n * @param {module:ol/Feature|module:ol/render/Feature} feature Feature.\n */\n\n\nfunction renderPolygonGeometry(replayGroup, geometry, style, feature) {\n  var fillStyle = style.getFill();\n  var strokeStyle = style.getStroke();\n\n  if (fillStyle || strokeStyle) {\n    var polygonReplay = replayGroup.getReplay(style.getZIndex(), ReplayType.POLYGON);\n    polygonReplay.setFillStrokeStyle(fillStyle, strokeStyle);\n    polygonReplay.drawPolygon(geometry, feature);\n  }\n\n  var textStyle = style.getText();\n\n  if (textStyle) {\n    var textReplay = replayGroup.getReplay(style.getZIndex(), ReplayType.TEXT);\n    textReplay.setTextStyle(textStyle, replayGroup.addDeclutter(false));\n    textReplay.drawText(geometry, feature);\n  }\n} //# sourceMappingURL=vector.js.map","map":{"version":3,"sources":["/Users/n.ah/Projects/Beyoglu_search/Frontend/node_modules/ol/renderer/vector.js"],"names":["getUid","ImageState","GeometryType","ReplayType","SIMPLIFY_TOLERANCE","GEOMETRY_RENDERERS","renderPointGeometry","renderLineStringGeometry","renderPolygonGeometry","renderMultiPointGeometry","renderMultiLineStringGeometry","renderMultiPolygonGeometry","renderGeometryCollectionGeometry","renderCircleGeometry","defaultOrder","feature1","feature2","getSquaredTolerance","resolution","pixelRatio","tolerance","getTolerance","replayGroup","geometry","style","feature","fillStyle","getFill","strokeStyle","getStroke","circleReplay","getReplay","getZIndex","CIRCLE","setFillStrokeStyle","drawCircle","textStyle","getText","textReplay","TEXT","setTextStyle","addDeclutter","drawText","renderFeature","squaredTolerance","listener","thisArg","loading","imageStyle","getImage","imageState","getImageState","LOADED","ERROR","unlistenImageChange","IDLE","load","listenImageChange","renderFeatureInternal","getGeometryFunction","simplifiedGeometry","getSimplifiedGeometry","renderer","getRenderer","renderGeometry","geometryRenderer","getType","GEOMETRY_COLLECTION","geometries","getGeometries","i","ii","length","replay","DEFAULT","drawCustom","getGeometriesArray","lineStringReplay","LINE_STRING","drawLineString","drawMultiLineString","polygonReplay","POLYGON","drawMultiPolygon","imageReplay","IMAGE","setImageStyle","drawPoint","drawMultiPoint","drawPolygon"],"mappings":"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","sourcesContent":["/**\n * @module ol/renderer/vector\n */\nimport {getUid} from '../util.js';\nimport ImageState from '../ImageState.js';\nimport GeometryType from '../geom/GeometryType.js';\nimport ReplayType from '../render/ReplayType.js';\n\n\n/**\n * Tolerance for geometry simplification in device pixels.\n * @type {number}\n */\nvar SIMPLIFY_TOLERANCE = 0.5;\n\n\n/**\n * @const\n * @type {Object.<module:ol/geom/GeometryType,\n *                function(module:ol/render/ReplayGroup, module:ol/geom/Geometry,\n *                         module:ol/style/Style, Object)>}\n */\nvar GEOMETRY_RENDERERS = {\n  'Point': renderPointGeometry,\n  'LineString': renderLineStringGeometry,\n  'Polygon': renderPolygonGeometry,\n  'MultiPoint': renderMultiPointGeometry,\n  'MultiLineString': renderMultiLineStringGeometry,\n  'MultiPolygon': renderMultiPolygonGeometry,\n  'GeometryCollection': renderGeometryCollectionGeometry,\n  'Circle': renderCircleGeometry\n};\n\n\n/**\n * @param {module:ol/Feature|module:ol/render/Feature} feature1 Feature 1.\n * @param {module:ol/Feature|module:ol/render/Feature} feature2 Feature 2.\n * @return {number} Order.\n */\nexport function defaultOrder(feature1, feature2) {\n  return getUid(feature1) - getUid(feature2);\n}\n\n\n/**\n * @param {number} resolution Resolution.\n * @param {number} pixelRatio Pixel ratio.\n * @return {number} Squared pixel tolerance.\n */\nexport function getSquaredTolerance(resolution, pixelRatio) {\n  var tolerance = getTolerance(resolution, pixelRatio);\n  return tolerance * tolerance;\n}\n\n\n/**\n * @param {number} resolution Resolution.\n * @param {number} pixelRatio Pixel ratio.\n * @return {number} Pixel tolerance.\n */\nexport function getTolerance(resolution, pixelRatio) {\n  return SIMPLIFY_TOLERANCE * resolution / pixelRatio;\n}\n\n\n/**\n * @param {module:ol/render/ReplayGroup} replayGroup Replay group.\n * @param {module:ol/geom/Circle} geometry Geometry.\n * @param {module:ol/style/Style} style Style.\n * @param {module:ol/Feature} feature Feature.\n */\nfunction renderCircleGeometry(replayGroup, geometry, style, feature) {\n  var fillStyle = style.getFill();\n  var strokeStyle = style.getStroke();\n  if (fillStyle || strokeStyle) {\n    var circleReplay = replayGroup.getReplay(style.getZIndex(), ReplayType.CIRCLE);\n    circleReplay.setFillStrokeStyle(fillStyle, strokeStyle);\n    circleReplay.drawCircle(geometry, feature);\n  }\n  var textStyle = style.getText();\n  if (textStyle) {\n    var textReplay = replayGroup.getReplay(style.getZIndex(), ReplayType.TEXT);\n    textReplay.setTextStyle(textStyle, replayGroup.addDeclutter(false));\n    textReplay.drawText(geometry, feature);\n  }\n}\n\n\n/**\n * @param {module:ol/render/ReplayGroup} replayGroup Replay group.\n * @param {module:ol/Feature|module:ol/render/Feature} feature Feature.\n * @param {module:ol/style/Style} style Style.\n * @param {number} squaredTolerance Squared tolerance.\n * @param {function(this: T, module:ol/events/Event)} listener Listener function.\n * @param {T} thisArg Value to use as `this` when executing `listener`.\n * @return {boolean} `true` if style is loading.\n * @template T\n */\nexport function renderFeature(replayGroup, feature, style, squaredTolerance, listener, thisArg) {\n  var loading = false;\n  var imageStyle = style.getImage();\n  if (imageStyle) {\n    var imageState = imageStyle.getImageState();\n    if (imageState == ImageState.LOADED || imageState == ImageState.ERROR) {\n      imageStyle.unlistenImageChange(listener, thisArg);\n    } else {\n      if (imageState == ImageState.IDLE) {\n        imageStyle.load();\n      }\n      imageState = imageStyle.getImageState();\n      imageStyle.listenImageChange(listener, thisArg);\n      loading = true;\n    }\n  }\n  renderFeatureInternal(replayGroup, feature, style, squaredTolerance);\n\n  return loading;\n}\n\n\n/**\n * @param {module:ol/render/ReplayGroup} replayGroup Replay group.\n * @param {module:ol/Feature|module:ol/render/Feature} feature Feature.\n * @param {module:ol/style/Style} style Style.\n * @param {number} squaredTolerance Squared tolerance.\n */\nfunction renderFeatureInternal(replayGroup, feature, style, squaredTolerance) {\n  var geometry = style.getGeometryFunction()(feature);\n  if (!geometry) {\n    return;\n  }\n  var simplifiedGeometry = geometry.getSimplifiedGeometry(squaredTolerance);\n  var renderer = style.getRenderer();\n  if (renderer) {\n    renderGeometry(replayGroup, simplifiedGeometry, style, feature);\n  } else {\n    var geometryRenderer = GEOMETRY_RENDERERS[simplifiedGeometry.getType()];\n    geometryRenderer(replayGroup, simplifiedGeometry, style, feature);\n  }\n}\n\n\n/**\n * @param {module:ol/render/ReplayGroup} replayGroup Replay group.\n * @param {module:ol/geom/Geometry} geometry Geometry.\n * @param {module:ol/style/Style} style Style.\n * @param {module:ol/Feature|module:ol/render/Feature} feature Feature.\n */\nfunction renderGeometry(replayGroup, geometry, style, feature) {\n  if (geometry.getType() == GeometryType.GEOMETRY_COLLECTION) {\n    var geometries = /** @type {module:ol/geom/GeometryCollection} */ (geometry).getGeometries();\n    for (var i = 0, ii = geometries.length; i < ii; ++i) {\n      renderGeometry(replayGroup, geometries[i], style, feature);\n    }\n    return;\n  }\n  var replay = replayGroup.getReplay(style.getZIndex(), ReplayType.DEFAULT);\n  replay.drawCustom(/** @type {module:ol/geom/SimpleGeometry} */ (geometry), feature, style.getRenderer());\n}\n\n\n/**\n * @param {module:ol/render/ReplayGroup} replayGroup Replay group.\n * @param {module:ol/geom/GeometryCollection} geometry Geometry.\n * @param {module:ol/style/Style} style Style.\n * @param {module:ol/Feature} feature Feature.\n */\nfunction renderGeometryCollectionGeometry(replayGroup, geometry, style, feature) {\n  var geometries = geometry.getGeometriesArray();\n  var i, ii;\n  for (i = 0, ii = geometries.length; i < ii; ++i) {\n    var geometryRenderer =\n        GEOMETRY_RENDERERS[geometries[i].getType()];\n    geometryRenderer(replayGroup, geometries[i], style, feature);\n  }\n}\n\n\n/**\n * @param {module:ol/render/ReplayGroup} replayGroup Replay group.\n * @param {module:ol/geom/LineString|module:ol/render/Feature} geometry Geometry.\n * @param {module:ol/style/Style} style Style.\n * @param {module:ol/Feature|module:ol/render/Feature} feature Feature.\n */\nfunction renderLineStringGeometry(replayGroup, geometry, style, feature) {\n  var strokeStyle = style.getStroke();\n  if (strokeStyle) {\n    var lineStringReplay = replayGroup.getReplay(style.getZIndex(), ReplayType.LINE_STRING);\n    lineStringReplay.setFillStrokeStyle(null, strokeStyle);\n    lineStringReplay.drawLineString(geometry, feature);\n  }\n  var textStyle = style.getText();\n  if (textStyle) {\n    var textReplay = replayGroup.getReplay(style.getZIndex(), ReplayType.TEXT);\n    textReplay.setTextStyle(textStyle, replayGroup.addDeclutter(false));\n    textReplay.drawText(geometry, feature);\n  }\n}\n\n\n/**\n * @param {module:ol/render/ReplayGroup} replayGroup Replay group.\n * @param {module:ol/geom/MultiLineString|module:ol/render/Feature} geometry Geometry.\n * @param {module:ol/style/Style} style Style.\n * @param {module:ol/Feature|module:ol/render/Feature} feature Feature.\n */\nfunction renderMultiLineStringGeometry(replayGroup, geometry, style, feature) {\n  var strokeStyle = style.getStroke();\n  if (strokeStyle) {\n    var lineStringReplay = replayGroup.getReplay(style.getZIndex(), ReplayType.LINE_STRING);\n    lineStringReplay.setFillStrokeStyle(null, strokeStyle);\n    lineStringReplay.drawMultiLineString(geometry, feature);\n  }\n  var textStyle = style.getText();\n  if (textStyle) {\n    var textReplay = replayGroup.getReplay(style.getZIndex(), ReplayType.TEXT);\n    textReplay.setTextStyle(textStyle, replayGroup.addDeclutter(false));\n    textReplay.drawText(geometry, feature);\n  }\n}\n\n\n/**\n * @param {module:ol/render/ReplayGroup} replayGroup Replay group.\n * @param {module:ol/geom/MultiPolygon} geometry Geometry.\n * @param {module:ol/style/Style} style Style.\n * @param {module:ol/Feature} feature Feature.\n */\nfunction renderMultiPolygonGeometry(replayGroup, geometry, style, feature) {\n  var fillStyle = style.getFill();\n  var strokeStyle = style.getStroke();\n  if (strokeStyle || fillStyle) {\n    var polygonReplay = replayGroup.getReplay(style.getZIndex(), ReplayType.POLYGON);\n    polygonReplay.setFillStrokeStyle(fillStyle, strokeStyle);\n    polygonReplay.drawMultiPolygon(geometry, feature);\n  }\n  var textStyle = style.getText();\n  if (textStyle) {\n    var textReplay = replayGroup.getReplay(style.getZIndex(), ReplayType.TEXT);\n    textReplay.setTextStyle(textStyle, replayGroup.addDeclutter(false));\n    textReplay.drawText(geometry, feature);\n  }\n}\n\n\n/**\n * @param {module:ol/render/ReplayGroup} replayGroup Replay group.\n * @param {module:ol/geom/Point|module:ol/render/Feature} geometry Geometry.\n * @param {module:ol/style/Style} style Style.\n * @param {module:ol/Feature|module:ol/render/Feature} feature Feature.\n */\nfunction renderPointGeometry(replayGroup, geometry, style, feature) {\n  var imageStyle = style.getImage();\n  if (imageStyle) {\n    if (imageStyle.getImageState() != ImageState.LOADED) {\n      return;\n    }\n    var imageReplay = replayGroup.getReplay(style.getZIndex(), ReplayType.IMAGE);\n    imageReplay.setImageStyle(imageStyle, replayGroup.addDeclutter(false));\n    imageReplay.drawPoint(geometry, feature);\n  }\n  var textStyle = style.getText();\n  if (textStyle) {\n    var textReplay = replayGroup.getReplay(style.getZIndex(), ReplayType.TEXT);\n    textReplay.setTextStyle(textStyle, replayGroup.addDeclutter(!!imageStyle));\n    textReplay.drawText(geometry, feature);\n  }\n}\n\n\n/**\n * @param {module:ol/render/ReplayGroup} replayGroup Replay group.\n * @param {module:ol/geom/MultiPoint|module:ol/render/Feature} geometry Geometry.\n * @param {module:ol/style/Style} style Style.\n * @param {module:ol/Feature|module:ol/render/Feature} feature Feature.\n */\nfunction renderMultiPointGeometry(replayGroup, geometry, style, feature) {\n  var imageStyle = style.getImage();\n  if (imageStyle) {\n    if (imageStyle.getImageState() != ImageState.LOADED) {\n      return;\n    }\n    var imageReplay = replayGroup.getReplay(style.getZIndex(), ReplayType.IMAGE);\n    imageReplay.setImageStyle(imageStyle, replayGroup.addDeclutter(false));\n    imageReplay.drawMultiPoint(geometry, feature);\n  }\n  var textStyle = style.getText();\n  if (textStyle) {\n    var textReplay = replayGroup.getReplay(style.getZIndex(), ReplayType.TEXT);\n    textReplay.setTextStyle(textStyle, replayGroup.addDeclutter(!!imageStyle));\n    textReplay.drawText(geometry, feature);\n  }\n}\n\n\n/**\n * @param {module:ol/render/ReplayGroup} replayGroup Replay group.\n * @param {module:ol/geom/Polygon|module:ol/render/Feature} geometry Geometry.\n * @param {module:ol/style/Style} style Style.\n * @param {module:ol/Feature|module:ol/render/Feature} feature Feature.\n */\nfunction renderPolygonGeometry(replayGroup, geometry, style, feature) {\n  var fillStyle = style.getFill();\n  var strokeStyle = style.getStroke();\n  if (fillStyle || strokeStyle) {\n    var polygonReplay = replayGroup.getReplay(style.getZIndex(), ReplayType.POLYGON);\n    polygonReplay.setFillStrokeStyle(fillStyle, strokeStyle);\n    polygonReplay.drawPolygon(geometry, feature);\n  }\n  var textStyle = style.getText();\n  if (textStyle) {\n    var textReplay = replayGroup.getReplay(style.getZIndex(), ReplayType.TEXT);\n    textReplay.setTextStyle(textStyle, replayGroup.addDeclutter(false));\n    textReplay.drawText(geometry, feature);\n  }\n}\n\n//# sourceMappingURL=vector.js.map"]},"metadata":{},"sourceType":"module"}