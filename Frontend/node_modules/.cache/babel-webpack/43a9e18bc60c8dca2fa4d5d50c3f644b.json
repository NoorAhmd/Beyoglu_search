{"ast":null,"code":"/**\n * @module ol/render/canvas/ImageReplay\n */\nimport CanvasInstruction from '../canvas/Instruction.js';\nimport CanvasReplay from '../canvas/Replay.js';\n\nvar CanvasImageReplay = function (CanvasReplay) {\n  function CanvasImageReplay(tolerance, maxExtent, resolution, pixelRatio, overlaps, declutterTree) {\n    CanvasReplay.call(this, tolerance, maxExtent, resolution, pixelRatio, overlaps, declutterTree);\n    /**\n     * @private\n     * @type {module:ol/render/canvas~DeclutterGroup}\n     */\n\n    this.declutterGroup_ = null;\n    /**\n     * @private\n     * @type {HTMLCanvasElement|HTMLVideoElement|HTMLImageElement}\n     */\n\n    this.hitDetectionImage_ = null;\n    /**\n     * @private\n     * @type {HTMLCanvasElement|HTMLVideoElement|HTMLImageElement}\n     */\n\n    this.image_ = null;\n    /**\n     * @private\n     * @type {number|undefined}\n     */\n\n    this.anchorX_ = undefined;\n    /**\n     * @private\n     * @type {number|undefined}\n     */\n\n    this.anchorY_ = undefined;\n    /**\n     * @private\n     * @type {number|undefined}\n     */\n\n    this.height_ = undefined;\n    /**\n     * @private\n     * @type {number|undefined}\n     */\n\n    this.opacity_ = undefined;\n    /**\n     * @private\n     * @type {number|undefined}\n     */\n\n    this.originX_ = undefined;\n    /**\n     * @private\n     * @type {number|undefined}\n     */\n\n    this.originY_ = undefined;\n    /**\n     * @private\n     * @type {boolean|undefined}\n     */\n\n    this.rotateWithView_ = undefined;\n    /**\n     * @private\n     * @type {number|undefined}\n     */\n\n    this.rotation_ = undefined;\n    /**\n     * @private\n     * @type {number|undefined}\n     */\n\n    this.scale_ = undefined;\n    /**\n     * @private\n     * @type {boolean|undefined}\n     */\n\n    this.snapToPixel_ = undefined;\n    /**\n     * @private\n     * @type {number|undefined}\n     */\n\n    this.width_ = undefined;\n  }\n\n  if (CanvasReplay) CanvasImageReplay.__proto__ = CanvasReplay;\n  CanvasImageReplay.prototype = Object.create(CanvasReplay && CanvasReplay.prototype);\n  CanvasImageReplay.prototype.constructor = CanvasImageReplay;\n  /**\n   * @param {Array.<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {number} end End.\n   * @param {number} stride Stride.\n   * @private\n   * @return {number} My end.\n   */\n\n  CanvasImageReplay.prototype.drawCoordinates_ = function drawCoordinates_(flatCoordinates, offset, end, stride) {\n    return this.appendFlatCoordinates(flatCoordinates, offset, end, stride, false, false);\n  };\n  /**\n   * @inheritDoc\n   */\n\n\n  CanvasImageReplay.prototype.drawPoint = function drawPoint(pointGeometry, feature) {\n    if (!this.image_) {\n      return;\n    }\n\n    this.beginGeometry(pointGeometry, feature);\n    var flatCoordinates = pointGeometry.getFlatCoordinates();\n    var stride = pointGeometry.getStride();\n    var myBegin = this.coordinates.length;\n    var myEnd = this.drawCoordinates_(flatCoordinates, 0, flatCoordinates.length, stride);\n    this.instructions.push([CanvasInstruction.DRAW_IMAGE, myBegin, myEnd, this.image_, // Remaining arguments to DRAW_IMAGE are in alphabetical order\n    this.anchorX_, this.anchorY_, this.declutterGroup_, this.height_, this.opacity_, this.originX_, this.originY_, this.rotateWithView_, this.rotation_, this.scale_ * this.pixelRatio, this.snapToPixel_, this.width_]);\n    this.hitDetectionInstructions.push([CanvasInstruction.DRAW_IMAGE, myBegin, myEnd, this.hitDetectionImage_, // Remaining arguments to DRAW_IMAGE are in alphabetical order\n    this.anchorX_, this.anchorY_, this.declutterGroup_, this.height_, this.opacity_, this.originX_, this.originY_, this.rotateWithView_, this.rotation_, this.scale_, this.snapToPixel_, this.width_]);\n    this.endGeometry(pointGeometry, feature);\n  };\n  /**\n   * @inheritDoc\n   */\n\n\n  CanvasImageReplay.prototype.drawMultiPoint = function drawMultiPoint(multiPointGeometry, feature) {\n    if (!this.image_) {\n      return;\n    }\n\n    this.beginGeometry(multiPointGeometry, feature);\n    var flatCoordinates = multiPointGeometry.getFlatCoordinates();\n    var stride = multiPointGeometry.getStride();\n    var myBegin = this.coordinates.length;\n    var myEnd = this.drawCoordinates_(flatCoordinates, 0, flatCoordinates.length, stride);\n    this.instructions.push([CanvasInstruction.DRAW_IMAGE, myBegin, myEnd, this.image_, // Remaining arguments to DRAW_IMAGE are in alphabetical order\n    this.anchorX_, this.anchorY_, this.declutterGroup_, this.height_, this.opacity_, this.originX_, this.originY_, this.rotateWithView_, this.rotation_, this.scale_ * this.pixelRatio, this.snapToPixel_, this.width_]);\n    this.hitDetectionInstructions.push([CanvasInstruction.DRAW_IMAGE, myBegin, myEnd, this.hitDetectionImage_, // Remaining arguments to DRAW_IMAGE are in alphabetical order\n    this.anchorX_, this.anchorY_, this.declutterGroup_, this.height_, this.opacity_, this.originX_, this.originY_, this.rotateWithView_, this.rotation_, this.scale_, this.snapToPixel_, this.width_]);\n    this.endGeometry(multiPointGeometry, feature);\n  };\n  /**\n   * @inheritDoc\n   */\n\n\n  CanvasImageReplay.prototype.finish = function finish() {\n    this.reverseHitDetectionInstructions(); // FIXME this doesn't really protect us against further calls to draw*Geometry\n\n    this.anchorX_ = undefined;\n    this.anchorY_ = undefined;\n    this.hitDetectionImage_ = null;\n    this.image_ = null;\n    this.height_ = undefined;\n    this.scale_ = undefined;\n    this.opacity_ = undefined;\n    this.originX_ = undefined;\n    this.originY_ = undefined;\n    this.rotateWithView_ = undefined;\n    this.rotation_ = undefined;\n    this.snapToPixel_ = undefined;\n    this.width_ = undefined;\n  };\n  /**\n   * @inheritDoc\n   */\n\n\n  CanvasImageReplay.prototype.setImageStyle = function setImageStyle(imageStyle, declutterGroup) {\n    var anchor = imageStyle.getAnchor();\n    var size = imageStyle.getSize();\n    var hitDetectionImage = imageStyle.getHitDetectionImage(1);\n    var image = imageStyle.getImage(1);\n    var origin = imageStyle.getOrigin();\n    this.anchorX_ = anchor[0];\n    this.anchorY_ = anchor[1];\n    this.declutterGroup_ =\n    /** @type {module:ol/render/canvas~DeclutterGroup} */\n    declutterGroup;\n    this.hitDetectionImage_ = hitDetectionImage;\n    this.image_ = image;\n    this.height_ = size[1];\n    this.opacity_ = imageStyle.getOpacity();\n    this.originX_ = origin[0];\n    this.originY_ = origin[1];\n    this.rotateWithView_ = imageStyle.getRotateWithView();\n    this.rotation_ = imageStyle.getRotation();\n    this.scale_ = imageStyle.getScale();\n    this.snapToPixel_ = imageStyle.getSnapToPixel();\n    this.width_ = size[0];\n  };\n\n  return CanvasImageReplay;\n}(CanvasReplay);\n\nexport default CanvasImageReplay; //# sourceMappingURL=ImageReplay.js.map","map":{"version":3,"sources":["/Users/n.ah/Projects/Beyoglu_search/Frontend/node_modules/ol/render/canvas/ImageReplay.js"],"names":["CanvasInstruction","CanvasReplay","CanvasImageReplay","tolerance","maxExtent","resolution","pixelRatio","overlaps","declutterTree","call","declutterGroup_","hitDetectionImage_","image_","anchorX_","undefined","anchorY_","height_","opacity_","originX_","originY_","rotateWithView_","rotation_","scale_","snapToPixel_","width_","__proto__","prototype","Object","create","constructor","drawCoordinates_","flatCoordinates","offset","end","stride","appendFlatCoordinates","drawPoint","pointGeometry","feature","beginGeometry","getFlatCoordinates","getStride","myBegin","coordinates","length","myEnd","instructions","push","DRAW_IMAGE","hitDetectionInstructions","endGeometry","drawMultiPoint","multiPointGeometry","finish","reverseHitDetectionInstructions","setImageStyle","imageStyle","declutterGroup","anchor","getAnchor","size","getSize","hitDetectionImage","getHitDetectionImage","image","getImage","origin","getOrigin","getOpacity","getRotateWithView","getRotation","getScale","getSnapToPixel"],"mappings":"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","sourcesContent":["/**\n * @module ol/render/canvas/ImageReplay\n */\nimport CanvasInstruction from '../canvas/Instruction.js';\nimport CanvasReplay from '../canvas/Replay.js';\n\nvar CanvasImageReplay = (function (CanvasReplay) {\n  function CanvasImageReplay(tolerance, maxExtent, resolution, pixelRatio, overlaps, declutterTree) {\n    CanvasReplay.call(this, tolerance, maxExtent, resolution, pixelRatio, overlaps, declutterTree);\n\n    /**\n     * @private\n     * @type {module:ol/render/canvas~DeclutterGroup}\n     */\n    this.declutterGroup_ = null;\n\n    /**\n     * @private\n     * @type {HTMLCanvasElement|HTMLVideoElement|HTMLImageElement}\n     */\n    this.hitDetectionImage_ = null;\n\n    /**\n     * @private\n     * @type {HTMLCanvasElement|HTMLVideoElement|HTMLImageElement}\n     */\n    this.image_ = null;\n\n    /**\n     * @private\n     * @type {number|undefined}\n     */\n    this.anchorX_ = undefined;\n\n    /**\n     * @private\n     * @type {number|undefined}\n     */\n    this.anchorY_ = undefined;\n\n    /**\n     * @private\n     * @type {number|undefined}\n     */\n    this.height_ = undefined;\n\n    /**\n     * @private\n     * @type {number|undefined}\n     */\n    this.opacity_ = undefined;\n\n    /**\n     * @private\n     * @type {number|undefined}\n     */\n    this.originX_ = undefined;\n\n    /**\n     * @private\n     * @type {number|undefined}\n     */\n    this.originY_ = undefined;\n\n    /**\n     * @private\n     * @type {boolean|undefined}\n     */\n    this.rotateWithView_ = undefined;\n\n    /**\n     * @private\n     * @type {number|undefined}\n     */\n    this.rotation_ = undefined;\n\n    /**\n     * @private\n     * @type {number|undefined}\n     */\n    this.scale_ = undefined;\n\n    /**\n     * @private\n     * @type {boolean|undefined}\n     */\n    this.snapToPixel_ = undefined;\n\n    /**\n     * @private\n     * @type {number|undefined}\n     */\n    this.width_ = undefined;\n\n  }\n\n  if ( CanvasReplay ) CanvasImageReplay.__proto__ = CanvasReplay;\n  CanvasImageReplay.prototype = Object.create( CanvasReplay && CanvasReplay.prototype );\n  CanvasImageReplay.prototype.constructor = CanvasImageReplay;\n\n  /**\n   * @param {Array.<number>} flatCoordinates Flat coordinates.\n   * @param {number} offset Offset.\n   * @param {number} end End.\n   * @param {number} stride Stride.\n   * @private\n   * @return {number} My end.\n   */\n  CanvasImageReplay.prototype.drawCoordinates_ = function drawCoordinates_ (flatCoordinates, offset, end, stride) {\n    return this.appendFlatCoordinates(flatCoordinates, offset, end, stride, false, false);\n  };\n\n  /**\n   * @inheritDoc\n   */\n  CanvasImageReplay.prototype.drawPoint = function drawPoint (pointGeometry, feature) {\n    if (!this.image_) {\n      return;\n    }\n    this.beginGeometry(pointGeometry, feature);\n    var flatCoordinates = pointGeometry.getFlatCoordinates();\n    var stride = pointGeometry.getStride();\n    var myBegin = this.coordinates.length;\n    var myEnd = this.drawCoordinates_(flatCoordinates, 0, flatCoordinates.length, stride);\n    this.instructions.push([\n      CanvasInstruction.DRAW_IMAGE, myBegin, myEnd, this.image_,\n      // Remaining arguments to DRAW_IMAGE are in alphabetical order\n      this.anchorX_, this.anchorY_, this.declutterGroup_, this.height_, this.opacity_,\n      this.originX_, this.originY_, this.rotateWithView_, this.rotation_,\n      this.scale_ * this.pixelRatio, this.snapToPixel_, this.width_\n    ]);\n    this.hitDetectionInstructions.push([\n      CanvasInstruction.DRAW_IMAGE, myBegin, myEnd, this.hitDetectionImage_,\n      // Remaining arguments to DRAW_IMAGE are in alphabetical order\n      this.anchorX_, this.anchorY_, this.declutterGroup_, this.height_, this.opacity_,\n      this.originX_, this.originY_, this.rotateWithView_, this.rotation_,\n      this.scale_, this.snapToPixel_, this.width_\n    ]);\n    this.endGeometry(pointGeometry, feature);\n  };\n\n  /**\n   * @inheritDoc\n   */\n  CanvasImageReplay.prototype.drawMultiPoint = function drawMultiPoint (multiPointGeometry, feature) {\n    if (!this.image_) {\n      return;\n    }\n    this.beginGeometry(multiPointGeometry, feature);\n    var flatCoordinates = multiPointGeometry.getFlatCoordinates();\n    var stride = multiPointGeometry.getStride();\n    var myBegin = this.coordinates.length;\n    var myEnd = this.drawCoordinates_(\n      flatCoordinates, 0, flatCoordinates.length, stride);\n    this.instructions.push([\n      CanvasInstruction.DRAW_IMAGE, myBegin, myEnd, this.image_,\n      // Remaining arguments to DRAW_IMAGE are in alphabetical order\n      this.anchorX_, this.anchorY_, this.declutterGroup_, this.height_, this.opacity_,\n      this.originX_, this.originY_, this.rotateWithView_, this.rotation_,\n      this.scale_ * this.pixelRatio, this.snapToPixel_, this.width_\n    ]);\n    this.hitDetectionInstructions.push([\n      CanvasInstruction.DRAW_IMAGE, myBegin, myEnd, this.hitDetectionImage_,\n      // Remaining arguments to DRAW_IMAGE are in alphabetical order\n      this.anchorX_, this.anchorY_, this.declutterGroup_, this.height_, this.opacity_,\n      this.originX_, this.originY_, this.rotateWithView_, this.rotation_,\n      this.scale_, this.snapToPixel_, this.width_\n    ]);\n    this.endGeometry(multiPointGeometry, feature);\n  };\n\n  /**\n   * @inheritDoc\n   */\n  CanvasImageReplay.prototype.finish = function finish () {\n    this.reverseHitDetectionInstructions();\n    // FIXME this doesn't really protect us against further calls to draw*Geometry\n    this.anchorX_ = undefined;\n    this.anchorY_ = undefined;\n    this.hitDetectionImage_ = null;\n    this.image_ = null;\n    this.height_ = undefined;\n    this.scale_ = undefined;\n    this.opacity_ = undefined;\n    this.originX_ = undefined;\n    this.originY_ = undefined;\n    this.rotateWithView_ = undefined;\n    this.rotation_ = undefined;\n    this.snapToPixel_ = undefined;\n    this.width_ = undefined;\n  };\n\n  /**\n   * @inheritDoc\n   */\n  CanvasImageReplay.prototype.setImageStyle = function setImageStyle (imageStyle, declutterGroup) {\n    var anchor = imageStyle.getAnchor();\n    var size = imageStyle.getSize();\n    var hitDetectionImage = imageStyle.getHitDetectionImage(1);\n    var image = imageStyle.getImage(1);\n    var origin = imageStyle.getOrigin();\n    this.anchorX_ = anchor[0];\n    this.anchorY_ = anchor[1];\n    this.declutterGroup_ = /** @type {module:ol/render/canvas~DeclutterGroup} */ (declutterGroup);\n    this.hitDetectionImage_ = hitDetectionImage;\n    this.image_ = image;\n    this.height_ = size[1];\n    this.opacity_ = imageStyle.getOpacity();\n    this.originX_ = origin[0];\n    this.originY_ = origin[1];\n    this.rotateWithView_ = imageStyle.getRotateWithView();\n    this.rotation_ = imageStyle.getRotation();\n    this.scale_ = imageStyle.getScale();\n    this.snapToPixel_ = imageStyle.getSnapToPixel();\n    this.width_ = size[0];\n  };\n\n  return CanvasImageReplay;\n}(CanvasReplay));\n\n\nexport default CanvasImageReplay;\n\n//# sourceMappingURL=ImageReplay.js.map"]},"metadata":{},"sourceType":"module"}